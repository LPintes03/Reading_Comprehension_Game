<x-chapter-layout>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    @vite('resources\css\chapters.css')

    <div class="shrink-0 flex items-center">
        <a href="{{ route('chapters') }}">
            <x-back-button class="block h-9 w-auto fill-current text-gray-800" />
        </a>
    </div>
    {{-- FROM HERE MAG-EEDIT --}}
    {{-- JUST COPY & PASTE THE WHOLE CODE FOR TEMPLATE. --}}
    {{-- NO NEED NA GALAWIN ANG AUDIO FIILE --}}
    <h1 class="chapter">Kabanata 1</h1>
    <br>

    {{--<span class="hoverable"
                data-word="Lubhang"
                data-audio="path/to/audio/mapanglaw.mp3"
                data-definition-tag="Labis o sobra."
                data-definition-eng="Excessive or too much."
                data-example="Lubhang mahirap ang sitwasyon."
                data-antonyms="kaunti, konti"
                data-synonyms="sobra, labis">anaki</span>
    --}}

    <div class="words">
        </p>
            232   Naging santaon pa ako sa Atenas,
            hinintay ang loob ng ama kong liyag;
            sa aba ko't noo'y tumanggap ng sulat
            na ang balang letra'y iwang may kamandag.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            233   
            <span class="hoverable"
            data-word="gunamgunam"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="malalim na pag-iisip o pag-aalala"
            data-definition-eng="deep thought or reflection"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="kawalan ng pakialam, kawalang-malay"
            data-synonyms="pagninilay, pag-iisip">Gunamgunam
            </span> na 'di napagod humapis,
            'di ka naianod ng luhang mabilis;
            iyong ginugulo ang bait ko't isip
            at 'di mo payagang payapa ang dibdib!‚Äù
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            234   Kamandag kang lagak niyong kamatayan
            sa sintang ina ko'y 'di nagpakundangan;
            sinasariwa mo ang sugat na lalang
            ng aking tinanggap na 
            <span class="hoverable"
            data-word="palasong liham"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="liham na nakasasakit o nakapagpapahirap ng damdamin"
            data-definition-eng="a letter that causes pain or sorrow"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="liham ng kasiyahan, sulat ng pag-asa"
            data-synonyms="liham ng dalamhati, sulat ng sakit">palasong liham!
            </span> 
        </p>
    </div>
    <br>
    <div class="words">
        <p> 
            235   Tutulungan kita ngayong magpalala
            ng hapdi sa pusong 'di ko maapula;
            namatay si ina. Ay! Laking dalita
            ito sa buhay ko ang unang 
            <span class="hoverable"
            data-word="umiwa"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="gumawa ng malalim na sugat o kirot."
            data-definition-eng="inflicted a deep wound or pain"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="gumamot, nagpagaling"
            data-synonyms="sumugat, dumurog"> umiwa.
            </span>
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            236   Patay na dinampot sa aking pagbasa
            niyong letrang titik ng 
            <span class="hoverable"
            data-word="bikig"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="nakakasakit o nakakadistorbo sa damdamin"
            data-definition-eng="something hurtful or disturbing"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="aliw, ginhawa"
            data-synonyms="tusok, sugat">bikig
            </span> na pluma;
            diyata, ama ko, at nakasulat ka
            ng pamatid-buhay sa anak na sinta!
        </p>
    </div>
    <br>
    <div class="words">
        <p> 
            237   May dalawang oras na 'di nakamalay
            ng pagkatao ko't ng kinalalagyan;
            dangan sa kalinga ng kasamang tanan
            ay 'di mo na ako nakasalitaan.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            238   Nang 
            <span class="hoverable"
            data-word="himasmasa"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag=" pagbalik sa ulirat o pagkakaroon ng malay"
            data-definition-eng="regaining consciousness or awareness"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="nawalan ng ulirat, nahilo"
            data-synonyms="nagkamalay, natauhan">mahimasmasa
            </span>'y narito ang sakit,
            dalawa kong mata'y naging parang batis;
            at ang Ay, ay, inay! kung kaya mapatid
            ay nakalimutan ang paghingang gipit.
        </p>
    </div>
    <br>

    <div class="words">
        <p>
            239   Sa panahong yao'y ang buo kong damdam
            ay nanaw na sa akin ang 
            <span class="hoverable"
            data-word="sandaigdigan"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="buong mundo o sansinukob"
            data-definition-eng="the whole world or universe"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="isang lugar, sulok"
            data-synonyms="daigdig, mundo">sandaigdigan
            </span>;
            nag-iisa ako sa gitna ng lumbay,
            ang kinakabaka'y sarili kong buhay.
        </p>
    </div>
    <br>





    {{-- TASS LANG EDITABLE --}}
    {{-- NO NEED NA GALAWIN. SA TAAS LANG ANG I-EDIT --}}
    <div id="sidebar" class="sidebar hidden">
        <button id="close-sidebar" class="close-button">&times;</button>

        <div id="sidebar-content" class="overflow-auto max-h-screen p-4">

            <li class="word">
                <div class="details">
                    <p id="word-name" style="display: inline;">__</p>
                    <span id="word-pronunciation" style="display: inline;">_ _</span>
                    <i class="fas fa-volume-up" id="play-audio-word" style="cursor: pointer; margin-left: 5px;"></i> <!-- Audio icon for the word -->
                    <audio id="audio-word" src="" controls hidden></audio>
                </div>
            </li>
            <div class="content">
                <li class="meaning">
                    <div class="details">
                        <p>Meaning (Tagalog)</p>
                        <span id="meaning-text">___</span>
                    </div>
                </li>
                <li class="meaning-eng">
                    <div class="details">
                        <p>Meaning (English)</p>
                        <span id="meaning-eng-text">___</span>
                    </div>
                </li>
                <li class="example">
                    <div class="details">
                        <p>Example</p>
                        <span id="example-text">___</span>
                    </div>
                </li>
                <li class="synonyms">
                    <div class="details">
                        <p>Synonyms</p>
                        <span id="synonyms-text">___</span>
                    </div>
                </li>
                <li class="antonyms">
                    <div class="details">
                        <p>Antonyms</p>
                        <span id="antonyms-text">___</span>
                    </div>
                </li>
            </div>
        </div>
    </div>

    <div class="hidden space-x-8 sm:-my-px sm:ms-10 sm:flex">
        <x-nav-link :href="route('games.show', ['number'])">
            {{ __('Game') }}
        </x-nav-link>
    </div>

    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
       // Function to show the sidebar with the selected word's data
function showSidebar(wordData) {
    document.getElementById('word-name').innerText = wordData.word; // Display the word
    document.getElementById('word-pronunciation').innerText = wordData.pronunciation; // Display pronunciation

    // Set the audio source for the meanings and examples
    const meaningAudioSrc = wordData.audio; // Assuming the same audio for both meanings

    document.getElementById('meaning-text').innerText = wordData.definition;
    document.getElementById('meaning-eng-text').innerText = wordData.definitionEng;
    document.getElementById('example-text').innerText = wordData.example;
    document.getElementById('synonyms-text').innerText = wordData.synonyms;
    document.getElementById('antonyms-text').innerText = wordData.antonyms;

    const sidebar = document.getElementById('sidebar');
    sidebar.classList.remove('hidden'); // Show the sidebar
    sidebar.classList.add('visible'); // Add visible class

    // Add click event listeners to the audio icons
    document.getElementById('play-audio-meaning').onclick = function() {
        playAudio(meaningAudioSrc);
    };
    document.getElementById('play-audio-meaning-eng').onclick = function() {
        playAudio(meaningAudioSrc);
    };
    document.getElementById('play-audio-example').onclick = function() {
        playAudio(exampleAudioSrc);
    };
}

    // Add click event listeners to hoverable words
    document.querySelectorAll('.hoverable').forEach(function(element) {
        element.addEventListener('click', function() {
            const wordData = {
                word: this.getAttribute('data-word'), // Get the word
                pronunciation: this.getAttribute('data-pronunciation'), // Get pronunciation
                audio: this.getAttribute('data-audio'), // Get audio source
                definition: this.getAttribute('data-definition-tag'),
                definitionEng: this.getAttribute('data-definition-eng'),
                example: this.getAttribute('data-example'),
                synonyms: this.getAttribute('data-synonyms'),
                antonyms: this.getAttribute('data-antonyms')
            };
            showSidebar(wordData);
        });
    });
    // Close sidebar functionality
    document.getElementById('close-sidebar').addEventListener('click', function() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.add('hidden'); // Hide the sidebar
        sidebar.classList.remove('visible'); // Remove visible class
    });
</script>
</x-chapter-layout>
