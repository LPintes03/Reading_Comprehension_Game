<x-chapter-layout>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    @vite('resources\css\chapters.css')

    <div class="shrink-0 flex items-center">
        <a href="{{ route('chapters') }}">
            <x-back-button class="block h-9 w-auto fill-current text-gray-800" />
        </a>
    </div>
    {{-- FROM HERE MAG-EEDIT --}}
    {{-- JUST COPY & PASTE THE WHOLE CODE FOR TEMPLATE. --}}
    {{-- NO NEED NA GALAWIN ANG AUDIO FIILE --}}
    <h1 class="chapter">Kabanata 1</h1>
    <br>

    {{--<span class="hoverable"
                data-word="Lubhang"
                data-audio="path/to/audio/mapanglaw.mp3"
                data-definition-tag="Labis o sobra."
                data-definition-eng="Excessive or too much."
                data-example="Lubhang mahirap ang sitwasyon."
                data-antonyms="kaunti, konti"
                data-synonyms="sobra, labis">anaki</span>
    --}}

    <div class="words">
        </p>
            240   
            <span class="hoverable"
            data-word="hinamak"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="binigyan ng mababang pagtingin o hindi pinansin"
            data-definition-eng=" scorned or disregarded"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="iginalang, pinahalagahan"
            data-synonyms="minaliit, binalewala">Hinamak
            </span> ng aking pighating mabangis
            ang sa maestro kong pang-aliw na boses;
            ni ang luhang tulong ng samang may hapis
            ay 'di nakaawas sa pasan kong sakit.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            241   
            <span class="hoverable"
            data-word="baras ng matuwid"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="simbolo ng katarungan o tamang pamamalakad"
            data-definition-eng="symbol of justice or righteousness"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="kawalang-katarungan, kasamaan"
            data-synonyms="katarungan, hustisya">Baras ng matuwid
            </span>  ay nilapastangan
            ng lubhang marahas na kapighatian;
            at sa isang titig ng palalong lumbay,
            diwa'y lumipad, niring katiisan.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            242   Anupa't sa bangis ng dusang bumugso,
            minamasarap kong mutok yaring puso;
            at nang ang kamandag na nakapupuno,
            sumamang dumaloy sa agos ng dugo.
        </p>
    </div>
    <br>
    <div class="words">
        <p> 
            243   May dalawang buwang hindi nakatikim
            ako ng linamnam ng payapa't aliw;
            ikalawang sulat ni ama'y dumating,
            sampu ng sasakyang sumundo sa akin.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            244   Saad sa 
            <span class="hoverable"
            data-word="kalatas"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag=" liham o sulat"
            data-definition-eng="letter or message"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="tahimik, kawalang-ulat"
            data-synonyms="liham, pahatid">kalatas
            </span> ay biglang lumulan
            at ako'y umuwi sa Albanyang bayan;
            sa aking maestro nang nagpaalam,
            aniya'y Florante, bilin ko'y tandaan.
        </p>
    </div>
    <br>
    <div class="words">
        <p> 
            245   Huwag malilingat at pag-ingatan mo
            ang higanting handa ng Konde Adolfo;
            pailag-ilagang parang 
            <span class="hoverable"
            data-word="basilisko"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="isang mitolohikal na nilalang na ang titig ay nakamamatay"
            data-definition-eng="a mythical creature whose gaze is deadly"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="tagapagligtas, bayani"
            data-synonyms="halimaw, ahas">basilisko
            </span>,
            sukat na ang titig ng mata'y sa iyo.
        </p>
    </div>
    <br>
    <div class="words">
        <p>
            246   Kung ang isalubong sa iyong pagdating
            ay masayang mukha't may pakitang-giliw,
            lalong pag-ingata't kaaway na malihim,
            siyang isaisip na kakabakahin.
        </p>
    </div>
    <br>

    <div class="words">
        <p>
            247   Dapuwa't huwag kang magpahalata,
            tarok mo ang lalim ng kaniyang nasa;
            ang 
            <span class="hoverable"
            data-word=" sasadatahi"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="estratehiya o plano na maingat na binubuo"
            data-definition-eng="a carefully laid-out plan or strategy"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="kapalpakan, padalos-dalos"
            data-synonyms="plano, taktika">sasadatahi
            </span>'y lihim na ihanda,
            nang may ipagtanggol sa araw ng digma.
        </p>
    </div>
    <br>

    <div class="words">
        <p>
            248   Sa mawika ito, luha'y bumalisbis
            at ako'y niyakap na pinakahigpit;
            huling 
            <span class="hoverable"
            data-word="tagubilin"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="paalala o habilin para sa isang gawain"
            data-definition-eng="instruction or guidance"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="kapabayaan, pagwawalang-bahala"
            data-synonyms="paalala, bilin">tagubilin
            </span>: bunso'y katitiis
            at hinihinta ka ng maraming sakit.
        </p>
    </div>
    <br>

    <div class="words">
        <p>
            249   At mumulan mo na ang pakikilaban
            sa mundong bayaning punong kaliluhan'
            hindi na natapos at sa kalumbayan,
            pinigil ang dila niyang nagsasaysay.
        </p>
    </div>
    <br>
    
    <div class="words">
        <p>
            250   Nagkabitiw kaming malumbay kapwa,
            tanang kaesk'wela mata'y lumuluha;
            si Menandro'y labis ang pagdaralita,
            palibhasa'y tapat na kapuwa bata.
        </p>
    </div>
    <br>
    
    <div class="words">
        <p>
            251   Sa pagkakalapat ng balikat namin,
            ng mutyang katoto'y 'di bumitiw-bitiw
            hanggang tinulutang sumama sa akin
            ng aming maestrong kaniyang amain.
        </p>
    </div>
    <br>
    
    <div class="words">
        <p>
            252   Yaong paalama'y anupa't natapos
            at pagsasaliwan ng madlang 
            <span class="hoverable"
            data-word="himutok"
            data-audio="path/to/audio/mapanglaw.mp3"
            data-definition-tag="pagdaramdam o hinaing mula sa kalungkutan"
            data-definition-eng="lamentation or expression of grief"
            data-example="Lubhang mahirap ang sitwasyon."
            data-antonyms="kagalakan, kasiyahan"
            data-synonyms="daing, pagdaramdam">himutok
            </span>;
            at sa kaingaya'y gulo ng adiyos,
            ang buntung-hininga ay nakikisagot.
        </p>
    </div>
    <br>
    
    <div class="words">
        <p>
            253   Magpahanggang daong ay nagsipatnubay
            ang aking maestro't kasamang iiwan;
            humihip ang hangi't agad nahiwalay
            sa pasig Atenas ang aming sasakyan.
        </p>
    </div>
    <br>




    {{-- TASS LANG EDITABLE --}}
    {{-- NO NEED NA GALAWIN. SA TAAS LANG ANG I-EDIT --}}
    <div id="sidebar" class="sidebar hidden">
        <button id="close-sidebar" class="close-button">&times;</button>

        <div id="sidebar-content" class="overflow-auto max-h-screen p-4">

            <li class="word">
                <div class="details">
                    <p id="word-name" style="display: inline;">__</p>
                    <span id="word-pronunciation" style="display: inline;">_ _</span>
                    <i class="fas fa-volume-up" id="play-audio-word" style="cursor: pointer; margin-left: 5px;"></i> <!-- Audio icon for the word -->
                    <audio id="audio-word" src="" controls hidden></audio>
                </div>
            </li>
            <div class="content">
                <li class="meaning">
                    <div class="details">
                        <p>Meaning (Tagalog)</p>
                        <span id="meaning-text">___</span>
                    </div>
                </li>
                <li class="meaning-eng">
                    <div class="details">
                        <p>Meaning (English)</p>
                        <span id="meaning-eng-text">___</span>
                    </div>
                </li>
                <li class="example">
                    <div class="details">
                        <p>Example</p>
                        <span id="example-text">___</span>
                    </div>
                </li>
                <li class="synonyms">
                    <div class="details">
                        <p>Synonyms</p>
                        <span id="synonyms-text">___</span>
                    </div>
                </li>
                <li class="antonyms">
                    <div class="details">
                        <p>Antonyms</p>
                        <span id="antonyms-text">___</span>
                    </div>
                </li>
            </div>
        </div>
    </div>

    <div class="hidden space-x-8 sm:-my-px sm:ms-10 sm:flex">
        <x-nav-link :href="route('games.show', ['number'])">
            {{ __('Game') }}
        </x-nav-link>
    </div>

    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
       // Function to show the sidebar with the selected word's data
function showSidebar(wordData) {
    document.getElementById('word-name').innerText = wordData.word; // Display the word
    document.getElementById('word-pronunciation').innerText = wordData.pronunciation; // Display pronunciation

    // Set the audio source for the meanings and examples
    const meaningAudioSrc = wordData.audio; // Assuming the same audio for both meanings

    document.getElementById('meaning-text').innerText = wordData.definition;
    document.getElementById('meaning-eng-text').innerText = wordData.definitionEng;
    document.getElementById('example-text').innerText = wordData.example;
    document.getElementById('synonyms-text').innerText = wordData.synonyms;
    document.getElementById('antonyms-text').innerText = wordData.antonyms;

    const sidebar = document.getElementById('sidebar');
    sidebar.classList.remove('hidden'); // Show the sidebar
    sidebar.classList.add('visible'); // Add visible class

    // Add click event listeners to the audio icons
    document.getElementById('play-audio-meaning').onclick = function() {
        playAudio(meaningAudioSrc);
    };
    document.getElementById('play-audio-meaning-eng').onclick = function() {
        playAudio(meaningAudioSrc);
    };
    document.getElementById('play-audio-example').onclick = function() {
        playAudio(exampleAudioSrc);
    };
}

    // Add click event listeners to hoverable words
    document.querySelectorAll('.hoverable').forEach(function(element) {
        element.addEventListener('click', function() {
            const wordData = {
                word: this.getAttribute('data-word'), // Get the word
                pronunciation: this.getAttribute('data-pronunciation'), // Get pronunciation
                audio: this.getAttribute('data-audio'), // Get audio source
                definition: this.getAttribute('data-definition-tag'),
                definitionEng: this.getAttribute('data-definition-eng'),
                example: this.getAttribute('data-example'),
                synonyms: this.getAttribute('data-synonyms'),
                antonyms: this.getAttribute('data-antonyms')
            };
            showSidebar(wordData);
        });
    });
    // Close sidebar functionality
    document.getElementById('close-sidebar').addEventListener('click', function() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.add('hidden'); // Hide the sidebar
        sidebar.classList.remove('visible'); // Remove visible class
    });
</script>
</x-chapter-layout>
